# AI Robustness Benchmark for Cyber-Physical Systems

*the repository is still work in progress*

## Get started
### Install the dependencies
Create a conda environment:
```sh
conda create -n robust-ai python=3.11
```
Install pytorch with preferred CUDA version, for example:
```sh
conda install pytorch cudatoolkit=11.3 -c pytorch
```
Then run: 
```sh
conda env update -f environment.yml
```

<!-- From the root of this repo, run:
```sh
poetry install
```

### Generate the data
The data is generated by running '1-generate-data.ipynb' in the notebooks folder. The notebook will also provide visualizations to analyze the datasets.


### Run the model training
From the root of this repo, do:
```sh
unset LD_LIBRARY_PATH
poetry run python run_training.py
```

### Run the model fine-tuning
From the root of this repo, do:
```sh
unset LD_LIBRARY_PATH
poetry run python run_finetuning.py  --LOG_DIR logs/<your-path>
``` -->

## Folder structure
---------
    ├── README.md          <- The top-level README for developers using this project.
    │
    ├── data               <- Datasets and lightning datamodules.
    │   └── processed      <- The final, canonical data sets for modeling.
    │
    ├── logs               <- Trained and serialized models, model predictions, or model summaries.
    │   
    ├── models             <- Lightning modules of all the models.
    │
    ├── notebooks          <- Jupyter notebooks.
    │
    └── visualizations     <- Generated graphics and figures to be used in reporting.
---------

## Build the image:
```sh
docker build . --platform=linux/amd64 -t gitlab.kiss.space.unibw-hamburg.de:4567/kiss/robust-ai-validation:v31
```

## Login to gitlab registry
```sh
docker login gitlab.kiss.space.unibw-hamburg.de:4567 -u token-name -p token --tls-verify=false
```

## push to registry
```sh
docker push gitlab.kiss.space.unibw-hamburg.de:4567/kiss/robust-ai-validation:v31 --tls-varify=false
```

